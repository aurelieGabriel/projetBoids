//****************************************************************************
//
//
//
//****************************************************************************


 
 
// ===========================================================================
//                                   Libraries
// ===========================================================================



// ===========================================================================
//                                 Project Files
// ===========================================================================
#include "Predateur.h"
#include "bwindow.h"
#include "Agent.h"
#include <math.h>


//############################################################################
//                                                                           #
//                           Class Predateur                                 #
//                                                                           #
//############################################################################

const double Predateur::Rp = 60;


// ===========================================================================
//                         Definition of static attributes
// ===========================================================================

// ===========================================================================
//                                  Constructors
// ===========================================================================
Predateur::Predateur(void)
{
 
  x=(rand()/(double)RAND_MAX)*640;
  y=(rand()/(double)RAND_MAX)*480;
  isObstacle=false;
  isPredateur=true;
  vx=10 ;
  vy=-10 ;
  h=21;

}

// ===========================================================================
//                                  Destructor
// ===========================================================================
Predateur::~Predateur(void)
{
}

// ===========================================================================
//                                 Public Methods
// ===========================================================================

void Predateur::velocityPredator()
{
	double vMax=1.5;
	
	if(h<20)
	{
		vx = 0;
		vy = 0;
		h ++;
	}
	else
	{
	  
      vx +=(rand()/(double)RAND_MAX)*2 -1;
      vy +=(rand()/(double)RAND_MAX)*2-1;
      double normV = sqrt(vx*vx+vy*vy);
      if(normV>vMax)
      {
		  vx=vx/(normV/vMax);
		  vy=vy/(normV/vMax);
	  }
      
	}
}

bool Predateur::peutBouger()
{
	bool b;
	if(h == 50)
	{
		b=true;
	}
	else
	{
		b=false;
	}
}


